<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HNFAK | MASTERPIECE v10</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --red: #E50914; --bg: #000; --card-bg: #111; --glass: rgba(255, 255, 255, 0.05); }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        
        body { 
            background: var(--bg); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; 
            overflow-x: hidden; scroll-behavior: smooth;
        }

        /* --- PRELOADER (A√ßƒ±lƒ±≈ü Hƒ±zƒ±) --- */
        #loader {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.8s ease;
        }
        .loading-bar { width: 150px; height: 3px; background: #222; border-radius: 5px; margin-top: 15px; overflow: hidden; }
        .loading-progress { width: 0%; height: 100%; background: var(--red); transition: width 0.4s; }

        /* --- HEADER (Glassmorphism) --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 1000; padding: 20px 5%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            backdrop-filter: blur(15px); display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 26px; font-weight: 800; color: var(--red); text-shadow: 0 0 20px rgba(229,9,20,0.4); }

        /* --- HERO BANNER --- */
        .hero {
            height: 85vh; position: relative; display: flex; align-items: flex-end; padding: 40px 5%;
            background: url('https://image.tmdb.org/t/p/original/m4Jm2unRjBkvvCU2Zp2Setp9YmE.jpg') center/cover;
            transition: 0.5s filter;
        }
        .hero::after { content: ''; position: absolute; inset: 0; background: linear-gradient(0deg, var(--bg) 10%, transparent 60%); }
        .hero-info { position: relative; z-index: 10; max-width: 600px; }
        .hero-title { font-size: 3.5rem; font-weight: 800; line-height: 0.9; margin-bottom: 20px; letter-spacing: -2px; }
        
        .btn-play {
            background: #fff; color: #000; border: none; padding: 16px 35px; border-radius: 12px;
            font-weight: 800; font-size: 16px; display: flex; align-items: center; gap: 10px; cursor: pointer;
        }

        /* --- CONTINUED WATCHING BAR --- */
        #continue-bar { display: none; padding: 110px 5% 0; }
        .cont-card { background: var(--glass); padding: 15px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; gap: 15px; cursor: pointer; }

        /* --- CONTENT ROWS --- */
        .section { padding: 30px 0 0 5%; }
        .section-title { font-size: 1.2rem; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .section-title::before { content:''; width:4px; height:20px; background:var(--red); border-radius:5px; }

        .slider { display: flex; overflow-x: auto; gap: 15px; padding-bottom: 20px; scrollbar-width: none; }
        .slider::-webkit-scrollbar { display: none; }

        .card { flex: 0 0 auto; width: 140px; border-radius: 12px; overflow: hidden; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; position: relative; }
        .card img { width: 100%; height: 210px; object-fit: cover; border-radius: 12px; }
        .card:active { transform: scale(0.92); }

        /* --- PLAYER MODAL --- */
        #player { position: fixed; inset: 0; background: #000; z-index: 10000; display: none; }
        .p-close { position: absolute; top: 30px; left: 20px; z-index: 10001; font-size: 24px; color: #fff; width: 45px; height: 45px; background: rgba(0,0,0,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        iframe { width: 100%; height: 100%; border: none; }

        /* --- NAVIGATION --- */
        .nav {
            position: fixed; bottom: 25px; left: 5%; width: 90%; 
            background: rgba(10,10,10,0.8); backdrop-filter: blur(25px);
            display: flex; justify-content: space-around; padding: 15px;
            border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); z-index: 900;
        }
        .nav-item { color: #666; text-decoration: none; font-size: 11px; font-weight: 600; text-align: center; }
        .nav-item.active { color: #fff; }
        .nav-icon { display: block; font-size: 22px; margin-bottom: 4px; }
    </style>
</head>
<body>

<div id="loader">
    <div class="logo">HNFAK</div>
    <div class="loading-bar"><div class="loading-progress" id="progress"></div></div>
</div>

<header>
    <div class="logo">HNFAK</div>
    <div style="background: var(--red); font-size: 10px; padding: 4px 8px; border-radius: 5px; font-weight: 900;">4K ULTRA</div>
</header>

<div id="main-ui">
    <div id="continue-bar">
        <div class="section-title">ƒ∞zlemeye Devam Et</div>
        <div id="cont-body"></div>
    </div>

    <div class="hero" id="hero-bg">
        <div class="hero-info">
            <h1 class="hero-title" id="hero-title">Primate</h1>
            <button class="btn-play" id="hero-play">‚ñ∂ OYNAT</button>
        </div>
    </div>

    <div id="content-container"></div>
</div>

<div id="player">
    <div class="p-close" onclick="closePlayer()">‚úï</div>
    <iframe id="v-frame" src="" allowfullscreen allow="autoplay"></iframe>
</div>

<nav class="nav">
    <a href="javascript:void(0)" onclick="app.show('home')" class="nav-item active"><span class="nav-icon">üè†</span>Ev</a>
    <a href="javascript:void(0)" onclick="app.show('movies')" class="nav-item"><span class="nav-icon">üé¨</span>Filmler</a>
    <a href="javascript:void(0)" onclick="app.show('series')" class="nav-item"><span class="nav-icon">üì∫</span>Diziler</a>
    <a href="javascript:void(0)" onclick="app.show('kids')" class="nav-item"><span class="nav-icon">üß∏</span>√áocuk</a>
</nav>

<script>
    // --- DATABASE & ENGINE ---
    const db = [
        { id: "tt31046101", t: "Primate", c: "trend", i: "29SBy9p2A963Tia8pP2S0Y6v8p6", ty: "movie", d: "https://image.tmdb.org/t/p/original/3mY9p990mS7v6T2S7L838vVf8A9.jpg" },
        { id: "tt6263850", t: "Deadpool", c: "trend", i: "8cdWjvZQUmOZabaBSEm6768v6NG", ty: "movie", d: "https://image.tmdb.org/t/p/original/m4Jm2unRjBkvvCU2Zp2Setp9YmE.jpg" },
        { id: "tt11389872", t: "Kingdom of Apes", c: "trend", i: "gKkl37HQuKTSkA6Y3XpxlYpRw33", ty: "movie" },
        { id: "tt15239678", t: "Dune 2", c: "aksiyon", i: "pWy85e9Q3Z4r9tD4T3S1g5f4q5A", ty: "movie" },
        { id: "tt3556926", t: "The Last of Us", c: "dizi", i: "uKvVjHNqBPlVZjZSThO2F68Ck86", ty: "tv" },
        { id: "tt12637874", t: "Fallout", c: "dizi", i: "hUu9bTwhA7V13X6c12U533JkHhF", ty: "tv" },
        { id: "tt0944947", t: "Game of Thrones", c: "dizi", i: "1XS1oqL89opfnbGw83trZrcr5H", ty: "tv" },
        { id: "tt11198330", t: "House of Dragon", c: "dizi", i: "1X4h40nqsUAUSyUBsWLoCfjj89", ty: "tv" },
        { id: "tt22022452", t: "Ters Y√ºz 2", c: "cocuk", i: "vpnVM9B6NMmQpWeZvzLvDESb2QY", ty: "movie" },
        { id: "tt9362722", t: "Spider-Man", c: "cocuk", i: "8Vt6mWEReuy4Of61Lnj5Xj704m8", ty: "movie" }
    ];

    const cats = [
        { id: 'trend', n: 'En √áok ƒ∞zlenenler' },
        { id: 'aksiyon', n: 'Aksiyon & Macera' },
        { id: 'dizi', n: 'Pop√ºler Diziler' },
        { id: 'cocuk', n: 'Aile & Animasyon' }
    ];

    const app = {
        init: function() {
            this.preloadImages();
            this.renderHome();
            this.checkHistory();
        },

        // --- RESƒ∞M √ñN Y√úKLEME MOTORU (√áat diye gelmesi i√ßin) ---
        preloadImages: function() {
            let loaded = 0;
            const total = db.length;
            db.forEach(item => {
                const img = new Image();
                img.src = `https://image.tmdb.org/t/p/w300/${item.i}.jpg`;
                img.onload = () => {
                    loaded++;
                    document.getElementById('progress').style.width = (loaded / total * 100) + "%";
                    if(loaded === total) {
                        setTimeout(() => {
                            document.getElementById('loader').style.opacity = '0';
                            setTimeout(() => document.getElementById('loader').style.display = 'none', 800);
                        }, 500);
                    }
                }
            });
        },

        renderHome: function() {
            const container = document.getElementById('content-container');
            cats.forEach(cat => {
                const items = db.filter(x => x.c === cat.id);
                let html = `<div class="section"><div class="section-title">${cat.n}</div><div class="slider">`;
                items.forEach(item => {
                    html += `<div class="card" onclick="app.play('${item.ty}', '${item.id}', '${item.t}')">
                        <img src="https://image.tmdb.org/t/p/w300/${item.i}.jpg">
                    </div>`;
                });
                html += `</div></div>`;
                container.innerHTML += html;
            });
            
            // Hero Setup
            const hero = db[1];
            document.getElementById('hero-title').innerText = hero.t;
            document.getElementById('hero-play').onclick = () => this.play(hero.ty, hero.id, hero.t);
        },

        play: function(type, id, title) {
            localStorage.setItem('hnfak_history', JSON.stringify({type, id, title, date: Date.now()}));
            const p = document.getElementById('player');
            const f = document.getElementById('v-frame');
            // OTOMATƒ∞K T√úRK√áE Sƒ∞STEMƒ∞ (vidsrc.pro)
            f.src = `https://vidsrc.pro/embed/${type}/${id}`;
            p.style.display = 'block';
            document.body.style.overflow = 'hidden';
        },

        checkHistory: function() {
            const last = JSON.parse(localStorage.getItem('hnfak_history'));
            if(last) {
                document.getElementById('continue-bar').style.display = 'block';
                document.getElementById('cont-body').innerHTML = `
                    <div class="cont-card" onclick="app.play('${last.type}', '${last.id}', '${last.title}')">
                        <span style="color:var(--red); font-size:20px;">‚ñ∂</span>
                        <div>
                            <div style="font-weight:800; font-size:14px;">${last.title}</div>
                            <div style="font-size:11px; opacity:0.6;">Kaldƒ±ƒüƒ±n yerden devam et...</div>
                        </div>
                    </div>`;
            }
        },

        show: function(view) {
            if(view !== 'home') alert(view + " yakƒ±nda g√ºncellenecek!");
            window.scrollTo({top:0, behavior:'smooth'});
        }
    };

    function closePlayer() {
        document.getElementById('player').style.display = 'none';
        document.getElementById('v-frame').src = '';
        document.body.style.overflow = 'auto';
        app.checkHistory();
    }

    // --- 404 KESƒ∞N √á√ñZ√úM ---
    window.onpopstate = function() {
        // Tarayƒ±cƒ± geri tu≈üuna basƒ±ldƒ±ƒüƒ±nda 404 vermesini engelle
        location.hash = ""; 
    };

    app.init();
</script>

</body>
</html>
