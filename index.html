<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HNFAK | GENESIS V10</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-status-bar-style" content="black-translucent">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --red: #E50914; --bg: #000; --card-w: 130px; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--bg); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; 
            overflow-x: hidden; user-select: none;
        }

        /* --- AKILLI Y√úKLEYƒ∞Cƒ∞ (TAKILMAZ) --- */
        #loader {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s ease;
        }
        .logo-load { font-size: 35px; font-weight: 800; color: var(--red); text-shadow: 0 0 15px rgba(229,9,20,0.5); }
        .spinner { width: 30px; height: 30px; border: 3px solid #222; border-top-color: var(--red); border-radius: 50%; animate: spin 1s linear infinite; margin-top: 15px; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 1000; padding: 20px 5%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            backdrop-filter: blur(10px); display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 24px; font-weight: 800; color: var(--red); }

        /* --- HERO (MAN≈ûET) --- */
        .hero {
            height: 75vh; position: relative; display: flex; align-items: flex-end; padding: 40px 5%;
            background-size: cover; background-position: center; transition: 0.5s;
        }
        .hero::after { content: ''; position: absolute; inset: 0; background: linear-gradient(0deg, var(--bg) 5%, transparent 70%); }
        .hero-content { position: relative; z-index: 10; width: 100%; }
        .play-main {
            background: #fff; color: #000; border: none; padding: 15px 35px; border-radius: 10px;
            font-weight: 800; font-size: 16px; cursor: pointer; display: inline-flex; align-items: center; gap: 10px;
        }

        /* --- KALDIƒûIN YERDEN DEVAM ET --- */
        #continue-row { display: none; padding: 110px 5% 0; }
        .cont-box { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; border: 1px solid #222; display: flex; align-items: center; gap: 12px; }

        /* --- SIRALAR (ROWS) --- */
        .section { padding: 30px 0 0 5%; }
        .section-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 15px; color: #eee; }
        .slider { display: flex; overflow-x: auto; gap: 12px; padding-bottom: 20px; scrollbar-width: none; }
        .slider::-webkit-scrollbar { display: none; }

        .card { flex: 0 0 auto; width: var(--card-w); border-radius: 10px; overflow: hidden; transition: 0.3s; }
        .card img { width: 100%; height: 195px; object-fit: cover; background: #111; border: 1px solid #222; }
        .card:active { transform: scale(0.95); }

        /* --- OYNATICI (PLAYER) --- */
        #player { position: fixed; inset: 0; background: #000; z-index: 10000; display: none; }
        .close-player { 
            position: absolute; top: 40px; left: 20px; z-index: 10001; 
            background: rgba(0,0,0,0.6); color: #fff; width: 45px; height: 45px; 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px;
        }
        iframe { width: 100%; height: 100%; border: none; }

        /* --- NAV BAR --- */
        .nav {
            position: fixed; bottom: 20px; left: 5%; width: 90%; 
            background: rgba(15,15,15,0.9); backdrop-filter: blur(20px);
            display: flex; justify-content: space-around; padding: 12px;
            border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); z-index: 900;
        }
        .nav-item { color: #555; text-decoration: none; font-size: 11px; text-align: center; }
        .nav-item.active { color: #fff; }
        .nav-icon { display: block; font-size: 22px; margin-bottom: 2px; }
    </style>
</head>
<body>

<div id="loader">
    <div class="logo-load">HNFAK</div>
    <div class="spinner"></div>
</div>

<header><div class="logo">HNFAK</div></header>

<div id="main-content">
    <div id="continue-row">
        <div class="section-title">ƒ∞zlemeye Devam Et</div>
        <div id="cont-display"></div>
    </div>

    <div class="hero" id="hero-box">
        <div class="hero-content">
            <h1 id="hero-name" style="font-size: 2.8rem; margin-bottom: 20px;">Y√ºkleniyor...</h1>
            <button class="play-main" id="hero-btn">‚ñ∂ HEMEN ƒ∞ZLE</button>
        </div>
    </div>

    <div id="dynamic-rows"></div>
</div>

<div id="player">
    <div class="close-player" onclick="stopPlayer()">‚úï</div>
    <iframe id="main-frame" src="" allowfullscreen allow="autoplay"></iframe>
</div>

<nav class="nav">
    <a href="#" onclick="location.reload()" class="nav-item active"><span class="nav-icon">üè†</span>Ev</a>
    <a href="#" class="nav-item"><span class="nav-icon">üé¨</span>Filmler</a>
    <a href="#" class="nav-item"><span class="nav-icon">üì∫</span>Diziler</a>
</nav>

<script>
    // --- VERƒ∞TABANI ---
    const db = [
        { id: "tt6263850", t: "Deadpool & Wolverine", c: "Trendler", i: "8cdWjvZQUmOZabaBSEm6768v6NG", ty: "movie", h: "https://image.tmdb.org/t/p/original/m4Jm2unRjBkvvCU2Zp2Setp9YmE.jpg" },
        { id: "tt31046101", t: "Primate", c: "Yeni √áƒ±kanlar", i: "29SBy9p2A963Tia8pP2S0Y6v8p6", ty: "movie" },
        { id: "tt15239678", t: "Dune: Part Two", c: "Aksiyon", i: "pWy85e9Q3Z4r9tD4T3S1g5f4q5A", ty: "movie" },
        { id: "tt3556926", t: "The Last of Us", c: "Pop√ºler Diziler", i: "uKvVjHNqBPlVZjZSThO2F68Ck86", ty: "tv" },
        { id: "tt12637874", t: "Fallout", c: "Pop√ºler Diziler", i: "hUu9bTwhA7V13X6c12U533JkHhF", ty: "tv" },
        { id: "tt11389872", t: "Kingdom of the Planet of the Apes", c: "Trendler", i: "gKkl37HQuKTSkA6Y3XpxlYpRw33", ty: "movie" },
        { id: "tt10366206", t: "John Wick: Chapter 4", c: "Aksiyon", i: "vZloFAK7NmvMGKE7VkF5UHaz0I", ty: "movie" },
        { id: "tt22022452", t: "Inside Out 2", c: "Yeni √áƒ±kanlar", i: "vpnVM9B6NMmQpWeZvzLvDESb2QY", ty: "movie" }
    ];

    function init() {
        const rowCont = document.getElementById('dynamic-rows');
        const categories = [...new Set(db.map(x => x.c))];

        categories.forEach(cat => {
            let html = `<div class="section"><div class="section-title">${cat}</div><div class="slider">`;
            db.filter(x => x.c === cat).forEach(item => {
                html += `<div class="card" onclick="startStream('${item.ty}', '${item.id}', '${item.t}')">
                    <img src="https://image.tmdb.org/t/p/w300/${item.i}.jpg" loading="lazy">
                </div>`;
            });
            html += `</div></div>`;
            rowCont.innerHTML += html;
        });

        // Man≈üet Ayarƒ±
        const hero = db[0];
        document.getElementById('hero-box').style.backgroundImage = `url('${hero.h}')`;
        document.getElementById('hero-name').innerText = hero.t;
        document.getElementById('hero-btn').onclick = () => startStream(hero.ty, hero.id, hero.t);

        checkHistory();
        
        // Loader Kapatƒ±cƒ± (En ge√ß 3 saniyede a√ßƒ±lƒ±r)
        setTimeout(() => {
            const l = document.getElementById('loader');
            l.style.opacity = '0';
            setTimeout(() => l.style.display = 'none', 500);
        }, 2000);
    }

    function startStream(type, id, title) {
        // Ge√ßmi≈üe Kaydet
        localStorage.setItem('hnfak_last_watch', JSON.stringify({type, id, title}));
        
        // vidsrc.pro SUNUCUSU (Hatasƒ±z & T√ºrk√ße Se√ßenekli)
        const streamUrl = `https://vidsrc.pro/embed/${type}/${id}`;
        
        document.getElementById('main-frame').src = streamUrl;
        document.getElementById('player').style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function stopPlayer() {
        document.getElementById('player').style.display = 'none';
        document.getElementById('main-frame').src = '';
        document.body.style.overflow = 'auto';
        checkHistory();
    }

    function checkHistory() {
        const last = JSON.parse(localStorage.getItem('hnfak_last_watch'));
        if(last) {
            document.getElementById('continue-row').style.display = 'block';
            document.getElementById('cont-display').innerHTML = `
                <div class="cont-box" onclick="startStream('${last.type}', '${last.id}', '${last.title}')">
                    <span style="color:var(--red); font-size:22px;">‚ñ∂</span>
                    <div>
                        <div style="font-weight:800; font-size:14px;">${last.title}</div>
                        <div style="font-size:11px; opacity:0.5;">ƒ∞zlemeye devam et</div>
                    </div>
                </div>`;
        }
    }

    init();
</script>
</body>
</html>
