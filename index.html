<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HNFAK GENESIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --red: #E50914; --bg: #000; --glass: rgba(255, 255, 255, 0.05); }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }

        /* --- AKILLI LOADER --- */
        #loader {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s ease;
        }
        .logo-load { font-size: 32px; font-weight: 800; color: var(--red); letter-spacing: -1px; margin-bottom: 10px; }
        .bar-container { width: 120px; height: 2px; background: #222; border-radius: 10px; overflow: hidden; }
        .bar-fill { width: 0%; height: 100%; background: var(--red); transition: 0.3s; }

        /* --- UI ELEMENTS --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 1000; padding: 20px 5%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9), transparent);
            backdrop-filter: blur(10px); display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 24px; font-weight: 800; color: var(--red); }

        .hero {
            height: 75vh; position: relative; display: flex; align-items: flex-end; padding: 40px 5%;
            background: #111 center/cover no-repeat;
        }
        .hero::after { content: ''; position: absolute; inset: 0; background: linear-gradient(0deg, var(--bg) 5%, transparent 60%); }
        .hero-content { position: relative; z-index: 10; width: 100%; }
        
        .play-main {
            background: #fff; color: #000; border: none; padding: 14px 30px; border-radius: 8px;
            font-weight: 800; font-size: 15px; cursor: pointer; display: inline-flex; align-items: center; gap: 8px;
        }

        .section { padding: 30px 0 0 5%; }
        .section-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 15px; opacity: 0.9; }
        .slider { display: flex; overflow-x: auto; gap: 12px; padding-bottom: 20px; scrollbar-width: none; }
        .slider::-webkit-scrollbar { display: none; }

        .card { flex: 0 0 auto; width: 130px; border-radius: 10px; overflow: hidden; transition: 0.3s; position: relative; }
        .card img { width: 100%; height: 190px; object-fit: cover; background: #111; border: 1px solid #222; }
        .card:active { transform: scale(0.95); }

        /* --- PLAYER --- */
        #player { position: fixed; inset: 0; background: #000; z-index: 10000; display: none; }
        .close-p { position: absolute; top: 30px; left: 20px; z-index: 10001; font-size: 24px; color: #fff; background: rgba(0,0,0,0.5); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        iframe { width: 100%; height: 100%; border: none; }

        /* --- NAV --- */
        .nav {
            position: fixed; bottom: 20px; left: 5%; width: 90%; 
            background: rgba(15,15,15,0.9); backdrop-filter: blur(20px);
            display: flex; justify-content: space-around; padding: 12px;
            border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); z-index: 900;
        }
        .nav-item { color: #555; text-decoration: none; font-size: 11px; font-weight: 600; text-align: center; }
        .nav-item.active { color: #fff; }
        .nav-icon { display: block; font-size: 20px; margin-bottom: 2px; }
    </style>
</head>
<body>

<div id="loader">
    <div class="logo-load">HNFAK</div>
    <div class="bar-container"><div class="bar-fill" id="bar"></div></div>
</div>

<header><div class="logo">HNFAK</div></header>

<div id="app-content">
    <div class="hero" id="hero-box">
        <div class="hero-content">
            <h1 id="hero-t" style="font-size: 2.5rem; margin-bottom: 15px;">Y√ºkleniyor...</h1>
            <button class="play-main" id="hero-btn">‚ñ∂ Oynat</button>
        </div>
    </div>
    <div id="rows"></div>
</div>

<div id="player">
    <div class="close-p" onclick="stop()">‚úï</div>
    <iframe id="ifr" src="" allowfullscreen allow="autoplay"></iframe>
</div>

<nav class="nav">
    <a href="#" class="nav-item active"><span class="nav-icon">üè†</span>Ana Sayfa</a>
    <a href="#" onclick="alert('Yakƒ±nda!')" class="nav-item"><span class="nav-icon">üé¨</span>Filmler</a>
    <a href="#" onclick="alert('Yakƒ±nda!')" class="nav-item"><span class="nav-icon">üì∫</span>Diziler</a>
</nav>

<script>
    const db = [
        { id: "tt6263850", t: "Deadpool", c: "Pop√ºler", i: "8cdWjvZQUmOZabaBSEm6768v6NG", ty: "movie", h: "https://image.tmdb.org/t/p/original/m4Jm2unRjBkvvCU2Zp2Setp9YmE.jpg" },
        { id: "tt31046101", t: "Primate", c: "Pop√ºler", i: "29SBy9p2A963Tia8pP2S0Y6v8p6", ty: "movie" },
        { id: "tt15239678", t: "Dune 2", c: "Aksiyon", i: "pWy85e9Q3Z4r9tD4T3S1g5f4q5A", ty: "movie" },
        { id: "tt3556926", t: "Last of Us", c: "Dizi", i: "uKvVjHNqBPlVZjZSThO2F68Ck86", ty: "tv" },
        { id: "tt12637874", t: "Fallout", c: "Dizi", i: "hUu9bTwhA7V13X6c12U533JkHhF", ty: "tv" },
        { id: "tt11389872", t: "Apes", c: "Pop√ºler", i: "gKkl37HQuKTSkA6Y3XpxlYpRw33", ty: "movie" },
        { id: "tt10366206", t: "John Wick 4", c: "Aksiyon", i: "vZloFAK7NmvMGKE7VkF5UHaz0I", ty: "movie" },
        { id: "tt22022452", t: "Inside Out 2", c: "Pop√ºler", i: "vpnVM9B6NMmQpWeZvzLvDESb2QY", ty: "movie" }
    ];

    function startApp() {
        const rows = document.getElementById('rows');
        const cats = [...new Set(db.map(x => x.c))];
        
        cats.forEach(cat => {
            let html = `<div class="section"><div class="section-title">${cat}</div><div class="slider">`;
            db.filter(x => x.c === cat).forEach(item => {
                html += `<div class="card" onclick="watch('${item.ty}', '${item.id}')">
                    <img src="https://image.tmdb.org/t/p/w300/${item.i}.jpg" onerror="this.src='https://via.placeholder.com/300x450/111/fff?text=${item.t}'">
                </div>`;
            });
            html += `</div></div>`;
            rows.innerHTML += html;
        });

        // Hero Init
        document.getElementById('hero-box').style.backgroundImage = `url('${db[0].h}')`;
        document.getElementById('hero-t').innerText = db[0].t;
        document.getElementById('hero-btn').onclick = () => watch(db[0].ty, db[0].id);

        // Preload & Auto-Close Loader
        let loaded = 0;
        const total = db.length;
        const forceOpen = setTimeout(hideLoader, 3000); // 3 saniye sonra zorla a√ß

        db.forEach(item => {
            const img = new Image();
            img.src = `https://image.tmdb.org/t/p/w300/${item.i}.jpg`;
            img.onload = img.onerror = () => {
                loaded++;
                document.getElementById('bar').style.width = (loaded/total*100) + "%";
                if(loaded >= total) {
                    clearTimeout(forceOpen);
                    hideLoader();
                }
            };
        });
    }

    function hideLoader() {
        const l = document.getElementById('loader');
        l.style.opacity = '0';
        setTimeout(() => l.style.display = 'none', 500);
    }

    function watch(ty, id) {
        document.getElementById('ifr').src = `https://vidsrc.pro/embed/${ty}/${id}`;
        document.getElementById('player').style.display = 'block';
        document.body.style.overflow = 'hidden';
    }

    function stop() {
        document.getElementById('player').style.display = 'none';
        document.getElementById('ifr').src = '';
        document.body.style.overflow = 'auto';
    }

    startApp();
</script>
</body>
</html>
